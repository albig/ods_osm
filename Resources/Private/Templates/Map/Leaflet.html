<!DOCTYPE html>
<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Default" />


<f:section name="main">
    <f:debug>{_all}</f:debug>
    <h1>Leaflet</h1>
    <f:render partial="Map/Leaflet" arguments="{_all}" />
    <div style="width:100%; height:80vh;" id="osm_{currentUid}"></div>
    <f:asset.script identifier="javascript-escaping-exampe">
        document.addEventListener("DOMContentLoaded", function () <f:format.raw>{</f:format.raw>
        osm_{currentUid} = new L.Map('osm_{currentUid}',
            {
                scrollWheelZoom: true,
                dragging: true
            });
            var layer_1 = new L.TileLayer('https://{layer.tileUrl}',
            <f:format.raw>{</f:format.raw>"maxZoom":19, {f:if(condition: layer.subdomains,then:'"subdomains": "{layer.subdomains}",')}"attribution":"\u00a9 <a href=\"http:\/\/www.openstreetmap.org\/copyright\">OpenStreetMap contributors<\/a>"<f:format.raw>}</f:format.raw>
            );
            osm_2.addLayer(layer_1);
        var center = new L.LatLng(51.05568675999999, 13.735343927000002);
        osm_2.setView(center, 13);
    <f:format.raw>}</f:format.raw>, false);
    </f:asset.script>
</f:section>

<f:section name="HeaderAssets">
    <link rel="stylesheet" href="{f:uri.resource(path: 'JavaScript/Leaflet/Core/leaflet.css')}"/>
    <script 
        type="text/javascript" src="{f:uri.resource(path: 'JavaScript/Leaflet/Core/leaflet.js')}">
    </script>
</f:section>

<f:section name="FooterAssets">
    <f:debug>{_all}</f:debug>
</f:section>

</html>